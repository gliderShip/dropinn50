(function(e){SliderKit=function(){var t=this;this._init=function(r,i){this.options=e.extend({},this._settings,i);this.cssNames={selected:this.options.cssprefix+"-selected",panel:this.options.cssprefix+"-panel",panels:this.options.cssprefix+"-panels",panelActive:this.options.cssprefix+"-panel-active",panelOld:this.options.cssprefix+"-panel-old",panelsWrapper:this.options.cssprefix+"-panels-wrapper",nav:this.options.cssprefix+"-nav",navClip:this.options.cssprefix+"-nav-clip",navBtn:this.options.cssprefix+"-nav-btn",navPrev:this.options.cssprefix+"-nav-prev",navNext:this.options.cssprefix+"-nav-next",btnDisable:this.options.cssprefix+"-btn-disable",btnPause:this.options.cssprefix+"-pause-btn",goPrev:this.options.cssprefix+"-go-prev",goNext:this.options.cssprefix+"-go-next",playBtn:this.options.cssprefix+"-play-btn",goBtns:this.options.cssprefix+"-go-btn"};this.domObj=e(r);this.panels=e("."+this.cssNames.panel,this.domObj);this.allItems=this.panels.size();this.nav=e("."+this.cssNames.nav,this.domObj);this.navClip=e("."+this.cssNames.navClip,this.nav);this.arePanels=this.allItems>0?1:0;this.isNavClip=this.navClip.size()>0?1:0;this.domObjHeight=this.domObj.height();this.domObjWidth=this.domObj.width();if(!this.arePanels&&!this.isNavClip){this._errorReport("Error #01",this.options.debug,1)}else if(this.domObjHeight=="auto"&&!this.options.freeheight){this._errorReport("Error #02",this.options.debug,1)}this.domObj.css("display","block");this.currId=0;this.prevId=0;this.newId=0;this.currPanel=null;this.prevPanel=0;this.firstTime=1;this.scrollActive=0;this.isPlaying=null;this.changeOngoing=false;this.currLine=1;this.animating=false;this.panelAnteFns=new Array;this.panelPostFns=new Array;this.navAnteFns=new Array;this.navPostFns=new Array;if(this.isNavClip){this._buildNav()}this._buildControls();if(this.arePanels){this.panelsBag=e("."+this.cssNames.panels,this.domObj);if(this.options.panelfx=="sliding"){this._wrapPanels()}}this.lineScrollDo=!this.arePanels?1:0;if(this.options.mousewheel){this.domObj.mousewheel(function(e,r){r>0?t.stepBackward():t.stepForward();return false})}if(this.options.keyboard){this.domObj.keyup(function(e){if(e.keyCode==37){t.stepBackward()}else if(e.keyCode==39){t.stepForward()}})}if(this.options.panelclick&&this.arePanels){this.panelsBag.click(function(){t.stepForward();return false})}this.startId=this.options.start>=this.allItems?this.allItems-1:this.options.start<0?0:this.options.start;if(this.options.counter){try{this.Counter()}catch(s){this._errorReport(s,this.options.debug,0)}}if(this.options.delaycaptions){try{this.DelayCaptions(this.options.delaycaptions)}catch(s){this._errorReport(s,this.options.debug,0)}}this.changeWithId(this.startId,null);if(this.options.auto){this.autoScrollStart();this._autoScrollHoverStop()}if(this.options.timer){try{this.Timer(this.options.timer)}catch(s){this._errorReport(s,this.options.debug,0)}}return this};this._settings={cssprefix:"sliderkit",start:0,auto:true,autospeed:4e3,autostill:false,mousewheel:false,keyboard:false,circular:false,shownavitems:5,navitemshover:false,navclipcenter:false,navcontinuous:false,navscrollatend:false,navpanelautoswitch:true,navfx:"sliding",navfxbefore:function(){},navfxafter:function(){},scroll:null,scrollspeed:600,scrolleasing:null,panelfx:"fading",panelfxspeed:700,panelfxeasing:null,panelfxfirst:"none",panelfxbefore:function(){},panelfxafter:function(){},panelbtnshover:false,panelclick:false,verticalnav:false,verticalslide:false,tabs:false,freeheight:false,fastchange:true,counter:false,delaycaptions:false,timer:false,debug:false};this._errorReport=function(e,t,n){if(t){alert("Slider Kit error!\nMessage = "+e+" (see doc for details)\nElement id = "+this.domObj.attr("id")+"\nElement class = "+this.domObj.attr("class"))}if(n){return false}};this._autoScrollHoverStop=function(){if(!this.isPlayBtn&&!this.options.autostill){this.domObj.hover(function(){if(t.isPlaying!=null){t.autoScrollStop()}},function(){t.autoScrollStart()})}if(this.options.autostill){this.domObj.mouseleave(function(){if(t.isPlaying==null){t.autoScrollStart()}})}};this._buildNav=function(){function c(t,n){return e(n,e(t).parent()).index(t)}this.navUL=e("ul",this.navClip);this.navLI=e("li",this.navUL);this.navLINum=this.navLI.size();if(this.arePanels&&this.navLINum!=this.allItems&&this.nav.size()==1){this._errorReport("Error #03",this.options.debug,1)}if(this.options.tabs){this.options.shownavitems=this.allItems}else{function r(e){attrVal=t.navLI.css(e);if(attrVal!="auto"&&e!=""&&e!="0px"){return parseInt(attrVal)}else return 0}var i=this.options.verticalnav?this.nav.height():this.nav.width();var s=this.navLI.outerWidth(true);var o=this.navLI.outerHeight(true);var u=r("margin-left")+r("margin-right");var a=r("margin-top")+r("margin-bottom");this.navLIsize=this.options.verticalnav?o:s;this.navULSize=this.navLIsize*this.navLINum;this.navClipSize=this.options.shownavitems*this.navLIsize-(this.options.verticalnav?a:u);this.cssPosAttr=this.options.verticalnav?"top":"left";var f=this.options.verticalnav?"height":"width";var l=this.options.verticalnav?"width":"height";this.navLI.css({width:89,height:63});this.navUL.css(f,this.navULSize+"px");this.navClip.css({width:this.options.verticalnav?s:this.navClipSize,height:this.options.verticalnav?this.navClipSize:o});if(this.options.navclipcenter){this.navClip.css(this.cssPosAttr,(i-this.navClipSize)/2).css("margin","0")}this.allItems=this.navLINum;if(this.allItems>this.options.shownavitems){this.scrollActive=true;if(this.options.scroll==null||this.options.scroll<0||this.options.scroll>this.allItems){this.options.scroll=this.options.shownavitems}this.navBtns=e("."+this.cssNames.navBtn,this.nav);if(this.navBtns.size()>0){this._buildNavButtons()}}}if(this.options.navitemshover&&this.arePanels){this.navLI.mouseover(function(){t.changeWithId(c(this,"li"),e(this))})}else if(this.arePanels||this.options.navscrollatend){this.navLI.click(function(){t.changeWithId(c(this,"li"),e(this));return false})}};this._buildNavButtons=function(){this.scrollBtns=true;this.navBtnPrev=e("."+this.cssNames.navPrev,this.nav);this.navBtnNext=e("."+this.cssNames.navNext,this.nav);this.navBtnPrev.click(function(){t.navPrev();return false});this.navBtnNext.click(function(){t.navNext();return false});if(this.options.navcontinuous){this.navBtnPrev.mouseover(function(){t.navPrev(true)});this.navBtnNext.mouseover(function(){t.navNext(true)});this.navBtns.mouseout(function(){t.navStopContinuous()})}if(!this.options.circular){this.navBtnPrev.toggleClass(this.cssNames.btnDisable)}};this._getNavPos=function(){this.navPos=this.options.verticalnav?this.navUL.position().top:this.navUL.position().left;this.LIbefore=Math.ceil(Math.abs(this.navPos)/this.navLIsize);this.LIafter=Math.floor((this.navULSize-Math.abs(this.navPos)-this.navClipSize)/this.navLIsize);if(this.LIafter<0){this.LIafter=0}};this._buildControls=function(){this.playBtn=e("."+this.cssNames.playBtn,this.domObj);this.gBtns=e("."+this.cssNames.goBtns,this.domObj);this.isPlayBtn=this.playBtn.size()>0?1:0;this.goBtns=this.gBtns.size()>0?1:0;if(this.isPlayBtn){if(this.options.auto){this.playBtn.addClass(this.cssNames.btnPause)}this.playBtn.click(function(){if(t.playBtn.hasClass(t.cssNames.btnPause)){t.playBtnPause()}else{t.playBtnStart()}return false})}if(this.goBtns){this.goBtnPrev=e("."+this.cssNames.goPrev,this.domObj);this.goBtnNext=e("."+this.cssNames.goNext,this.domObj);if(this.options.panelbtnshover){this.gBtns.hide();e("."+this.cssNames.panels,this.domObj).hover(function(){t.gBtns.fadeIn()},function(){t.gBtns.fadeOut()})}this.goBtnPrev.click(function(){t.stepBackward(e(this));return false});this.goBtnNext.click(function(){t.stepForward(e(this));return false})}};this._wrapPanels=function(){this.panels.wrapAll('<div class="'+this.cssNames.panelsWrapper+'"></div>');this.panelsWrapper=e("."+this.cssNames.panelsWrapper,this.panelsBag);this.panelsWrapper.css({position:"relative"})};this._change=function(r,i,s,o,u){if(u&&this.isPlaying!=null){if(this.isPlayBtn){this.playBtnPause()}if(this.options.autostill){t.autoScrollStop()}}if(r){if(r.hasClass(this.cssNames.btnDisable)){return false}}var a=0;var f=e(":animated",this.options.fastchange?this.nav:this.domObj).size()>0?1:0;if(!f&&!this.animating){this.prevId=this.currId;if(s==null&&!o){this.currId=i=="-="?this.currId+1:this.currId-1}else if(s!=null){s=parseInt(s);this.currId=s<0?0:s>this.allItems-1?this.allItems-1:s;var l=r?r.parent().parent().hasClass(this.cssNames.navClip)?false:true:true}if(this.goBtns){this.gBtns.removeClass(this.cssNames.btnDisable)}if(!this.options.circular){if(this.currId==-1){this.currId=0;a=1}if(this.currId==0&&this.goBtns){this.goBtnPrev.addClass(this.cssNames.btnDisable)}if(this.currId==this.allItems){this.currId=this.allItems-1;a=1}if(this.currId==this.allItems-1){if(this.options.auto){this.autoScrollStop()}if(this.goBtns){this.goBtnNext.addClass(this.cssNames.btnDisable)}}}else if(!this.scrollActive){if(this.currId==this.allItems){this.currId=0}if(this.currId==-1){this.currId=this.allItems-1}}if(this.scrollActive&&!a){this._setNavScroll(o,i,l)}if(this.isNavClip){this.selectThumbnail(this.currId)}if(!(o&&!this.options.navpanelautoswitch)){if(this.arePanels){this._animPanel(this.currId,i)}}if(this.firstTime){this.firstTime=0}}};this._setNavScroll=function(e,t,n){this._getNavPos();var r=e?true:false;var i=0;if(!e){var s=Math.abs(this.currId+1-this.LIbefore);var o=this.options.shownavitems-s+1;var u=this.currId==0||this.currId==this.allItems-1?1:0;if(this.options.navscrollatend&&(o==1||s==1)&&!this.firstTime&&!u){i=this.options.scroll-1;r=true}if(o==0||s==0){r=true}if(n){var a=Math.abs(this.prevId-this.currId);if(a>0){i=a;r=true}}if(t==""){if(this.prevId==this.currId&&!u){t=this.scrollWay=="-="?"+=":"-="}else{t=this.prevId<this.currId?"-=":"+="}}this.scrollWay=t}if(r){var f=i>0?i:this.options.scroll;var l=t=="-="?this.LIafter:this.LIbefore;var c=l<f?l:f;var h=c*this.navLIsize;this.newId=t=="-="?this.LIbefore+c:this.LIbefore-c+this.options.shownavitems-1;if(t=="-="&&this.newId>this.currId||t=="+="&&this.newId<this.currId){this.currId=this.newId}if(this.options.circular){if(this.LIbefore<=0&&t=="+="){t="-=";this.currId=this.allItems-1;h=this.LIafter/this.options.scroll*this.navLIsize*this.options.scroll}else if(this.LIafter==0&&t=="-="){t="+=";this.currId=0;h=Math.abs(this.navPos)}}this._animNav(t,h)}};this._animPanel=function(r,i){this.currPanel=this.panels.eq(r);var s=function(){if(e.isFunction(t.options.panelfxafter)){t.options.panelfxafter()}t._runCallBacks(t.panelPostFns)};if(!this.currPanel.hasClass(this.cssNames.panelActive)){if(this.firstTime){this.panelTransition=this.options.panelfxfirst;var o=1}else{var u=this.options.freeheight&&this.options.panelfx=="fading"?"tabsfading":"none";this.panelTransition=this.options.freeheight?u:this.options.panelfx}if(e.isFunction(t.options.panelfxbefore)){t.options.panelfxbefore()}this._runCallBacks(this.panelAnteFns);this._panelTransitions[this.panelTransition](i,o,s)}};this._animNav=function(r,i){var s=function(){if(!t.options.circular&&t.scrollBtns){t.navBtns.removeClass(t.cssNames.btnDisable);t._getNavPos();if(t.LIbefore<=0){t.navBtnPrev.addClass(t.cssNames.btnDisable)}else if(t.LIafter<=0){t.navBtnNext.addClass(t.cssNames.btnDisable)}}if(t.scrollcontinue){setTimeout(function(){t.scrollcontinue=="-="?t.navPrev():t.navNext()},0)}else if(e.isFunction(t.options.navfxafter)){t.options.navfxafter()}t._runCallBacks(t.navPostFns)};if(e.isFunction(t.options.navfxbefore)){t.options.navfxbefore()}t._runCallBacks(t.navAnteFns);this._navTransitions[this.options.navfx](r,i,s)};this._runCallBacks=function(t){e.each(t,function(t,n){if(e.isFunction(n)){n()}})};this._clearCallBacks=function(e){e.length=0};this._panelTransitions={none:function(e,r,i){t.panels.removeClass(t.cssNames.panelActive).hide();t.currPanel.addClass(t.cssNames.panelActive).show();i()},sliding:function(r,i,s){if(r==""){r=t.prevPanel<t.currId?"-=":"+="}t.prevPanel=t.currId;var o=r=="-="?"+":"-";var u=t.options.verticalslide?"top":"left";var a=t.options.verticalnav?t.domObjHeight:t.domObjWidth;var f=u=="top"?{top:r+a}:{left:r+a};t.oldPanel=e("."+t.cssNames.panelOld,t.domObj);t.activePanel=e("."+t.cssNames.panelActive,t.domObj);t.panels.css(u,"0");t.oldPanel.removeClass(t.cssNames.panelOld).hide();t.activePanel.removeClass(t.cssNames.panelActive).addClass(t.cssNames.panelOld);t.currPanel.addClass(t.cssNames.panelActive).css(u,o+a+"px").show();t.panelsWrapper.stop(true,true).css(u,"0").animate(f,t.options.panelfxspeed,t.options.panelfxeasing,function(){s()})},fading:function(r,i,s){if(i){t.panels.hide()}else{t.currPanel.css("display","none")}e("."+t.cssNames.panelOld,t.domObj).removeClass(t.cssNames.panelOld);e("."+t.cssNames.panelActive,t.domObj).stop(true,true).removeClass(t.cssNames.panelActive).addClass(t.cssNames.panelOld);t.currPanel.addClass(t.cssNames.panelActive).animate({opacity:"show"},t.options.panelfxspeed,t.options.panelfxeasing,function(){s()})},tabsfading:function(e,r,i){t.panels.removeClass(t.cssNames.panelActive).hide();t.currPanel.fadeIn(t.options.panelfxspeed,function(){i()})}};this._navTransitions={none:function(e,r,i){var s=e=="-="?t.navPos-r:t.navPos+r;t.navUL.css(t.cssPosAttr,s+"px");i()},sliding:function(e,r,i){t.navUL.animate(t.cssPosAttr=="left"?{left:e+r}:{top:e+r},t.options.scrollspeed,t.options.scrolleasing,function(){i()})}};this.playBtnPause=function(){this.playBtn.removeClass(this.cssNames.btnPause);this.autoScrollStop()};this.playBtnStart=function(){this.playBtn.addClass(t.cssNames.btnPause);this.autoScrollStart()};this.autoScrollStart=function(){var e=this;this.isPlaying=setInterval(function(){e._change(null,"-=",null,e.lineScrollDo,null)},e.options.autospeed)};this.autoScrollStop=function(){clearTimeout(this.isPlaying);this.isPlaying=null};this.changeWithId=function(e,t){this._change(t,"",e,0,1)};this.stepBackward=function(e){this._change(e,"+=",null,t.lineScrollDo,1)};this.stepForward=function(e){this._change(e,"-=",null,t.lineScrollDo,1)};this.navPrev=function(e){if(e){t.scrollcontinue="-="}this._change(this.navBtnPrev,"+=",null,1,1)};this.navNext=function(e){if(e){t.scrollcontinue="+="}this._change(this.navBtnNext,"-=",null,1,1)};this.navStopContinuous=function(){t.scrollcontinue=""};this.selectThumbnail=function(t){e("."+this.cssNames.selected,this.navUL).removeClass(this.cssNames.selected);this.navLI.eq(t).addClass(this.cssNames.selected)}};e.fn.sliderkit=function(t){return this.each(function(){e(this).data("sliderkit",(new SliderKit)._init(this,t))})}})(jQuery)